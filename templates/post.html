{% extends "layout.html" %} {% block content %}

<main class="container">
  <article class="post-card">
    <div class="post-header">
      <h1 class="post-title">{{ post.title }}</h1>
      <div class="post-meta">
        <div class="author-info">
          <img
            src="http://127.0.0.1:8000/static/profile_pics/default.svg"
            alt="{{ post.author }}"
            class="profile-img"
          />
          <span class="post-author">{{ post.author }}</span>
        </div>
        <span class="post-date">Feb 1, 2026</span>
      </div>
    </div>
    <div class="post-content">
      <p>{{ post.content }}</p>
    </div>

    <div class="post-actions">
      <a href="#" class="btn btn-edit">Edit Post</a>
      <button class="btn btn-delete" onclick="openModal()">Delete Post</button>
    </div>
  </article>
</main>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal">
  <div class="modal-content">
    <h2 class="modal-title">Delete Post?</h2>
    <p class="modal-text">
      Are you sure you want to delete this post? This action cannot be undone.
    </p>
    <div class="modal-buttons">
      <button class="btn btn-cancel" onclick="closeModal()">Cancel</button>
      <button class="btn btn-delete" onclick="confirmDelete()">
        Confirm Delete
      </button>
    </div>
  </div>
</div>
{% endblock content %} {% block script %}
<script>
  const modal = document.getElementById("deleteModal");

  function openModal() {
    modal.style.display = "flex";
  }

  function closeModal() {
    modal.style.display = "none";
  }

  function confirmDelete() {
    console.log("Post deleted!");
    closeModal();
    alert("Post deleted successfully!");
  }

  // Close modal when clicking outside
  window.onclick = function (event) {
    if (event.target == modal) {
      closeModal();
    }
  };
</script>
{% endblock script %}
